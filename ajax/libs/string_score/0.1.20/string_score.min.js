String.prototype.score=function(e,f){if(this==e)return 1;if(""==e)return 0;var c=0,a,g=this.toLowerCase(),n=this.length,h=e.toLowerCase(),k=e.length,b;a=0;var l=1,m;f&&(m=1-f);if(f)for(var d=0;d<k;++d)b=g.indexOf(h[d],a),-1===b?l+=m:(a===b?a=0.7:(a=0.1," "===this[b-1]&&(a+=0.8)),this[b]===e[d]&&(a+=0.1),c+=a,a=b+1);else for(d=0;d<k;++d){b=g.indexOf(h[d],a);if(-1===b)return 0;a===b?a=0.7:(a=0.1," "===this[b-1]&&(a+=0.8));this[b]===e[d]&&(a+=0.1);c+=a;a=b+1}c=0.5*(c/n+c/k)/l;h[0]===g[0]&&0.85>c&&(c+= 0.15);return c};