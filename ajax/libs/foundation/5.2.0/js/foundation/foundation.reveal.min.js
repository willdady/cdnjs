(function(d,c,a,e){Foundation.libs.reveal={name:"reveal",version:"5.2.0",locked:false,settings:{animation:"fadeAndPop",animation_speed:250,close_on_background_click:true,close_on_esc:true,dismiss_modal_class:"close-reveal-modal",bg_class:"reveal-modal-bg",open:function(){},opened:function(){},close:function(){},closed:function(){},bg:d(".reveal-modal-bg"),css:{open:{opacity:0,visibility:"visible",display:"block"},close:{opacity:1,visibility:"hidden",display:"none"}}},init:function(g,h,f){d.extend(true,this.settings,h,f);this.bindings(h,f)},events:function(h){var f=this,g=f.S;g(this.scope).off(".reveal").on("click.fndtn.reveal","["+this.add_namespace("data-reveal-id")+"]",function(l){l.preventDefault();if(!f.locked){var j=g(this),k=j.data(f.data_attr("reveal-ajax"));f.locked=true;if(typeof k==="undefined"){f.open.call(f,j)}else{var i=k===true?j.attr("href"):k;f.open.call(f,j,{url:i})}}});g(a).on("touchend.fndtn.reveal click.fndtn.reveal",this.close_targets(),function(j){j.preventDefault();if(!f.locked){var i=g("["+f.attr_name()+"].open").data(f.attr_name(true)+"-init"),k=g(j.target)[0]===g("."+i.bg_class)[0];if(k){if(i.close_on_background_click){j.stopPropagation()}else{return}}f.locked=true;f.close.call(f,k?g("["+f.attr_name()+"].open"):g(this).closest("["+f.attr_name()+"]"))}});if(g("["+f.attr_name()+"]",this.scope).length>0){g(this.scope).on("open.fndtn.reveal",this.settings.open).on("opened.fndtn.reveal",this.settings.opened).on("opened.fndtn.reveal",this.open_video).on("close.fndtn.reveal",this.settings.close).on("closed.fndtn.reveal",this.settings.closed).on("closed.fndtn.reveal",this.close_video)}else{g(this.scope).on("open.fndtn.reveal","["+f.attr_name()+"]",this.settings.open).on("opened.fndtn.reveal","["+f.attr_name()+"]",this.settings.opened).on("opened.fndtn.reveal","["+f.attr_name()+"]",this.open_video).on("close.fndtn.reveal","["+f.attr_name()+"]",this.settings.close).on("closed.fndtn.reveal","["+f.attr_name()+"]",this.settings.closed).on("closed.fndtn.reveal","["+f.attr_name()+"]",this.close_video)}return true},key_up_on:function(g){var f=this;f.S("body").off("keyup.fndtn.reveal").on("keyup.fndtn.reveal",function(j){var h=f.S("["+f.attr_name()+"].open"),i=h.data(f.attr_name(true)+"-init");if(i&&j.which===27&&i.close_on_esc&&!f.locked){f.close.call(f,h)}});return true},key_up_off:function(f){this.S("body").off("keyup.fndtn.reveal");return true},open:function(j,k){var g=this;if(j){if(typeof j.selector!=="undefined"){var i=g.S("#"+j.data(g.data_attr("reveal-id")))}else{var i=g.S(this.scope);k=j}}else{var i=g.S(this.scope)}var h=i.data(g.attr_name(true)+"-init");if(!i.hasClass("open")){var f=g.S("["+g.attr_name()+"].open");if(typeof i.data("css-top")==="undefined"){i.data("css-top",parseInt(i.css("top"),10)).data("offset",this.cache_offset(i))}this.key_up_on(i);i.trigger("open");if(f.length<1){this.toggle_bg(i)}if(typeof k==="string"){k={url:k}}if(typeof k==="undefined"||!k.url){if(f.length>0){this.hide(f,h.css.close)}this.show(i,h.css.open)}else{var l=typeof k.success!=="undefined"?k.success:null;d.extend(k,{success:function(n,o,m){if(d.isFunction(l)){l(n,o,m)}i.html(n);g.S(i).foundation("section","reflow");if(f.length>0){g.hide(f,h.css.close)}g.show(i,h.css.open)}});d.ajax(k)}}},close:function(h){var h=h&&h.length?h:this.S(this.scope),g=this.S("["+this.attr_name()+"].open"),f=h.data(this.attr_name(true)+"-init");if(g.length>0){this.locked=true;this.key_up_off(h);h.trigger("close");this.toggle_bg(h);this.hide(g,f.css.close,f)}},close_targets:function(){var f="."+this.settings.dismiss_modal_class;if(this.settings.close_on_background_click){return f+", ."+this.settings.bg_class}return f},toggle_bg:function(g){var f=g.data(this.attr_name(true));if(this.S("."+this.settings.bg_class).length===0){this.settings.bg=d("<div />",{"class":this.settings.bg_class}).appendTo("body").hide()}if(this.settings.bg.filter(":visible").length>0){this.hide(this.settings.bg)}else{this.show(this.settings.bg)}},show:function(k,i){if(i){var j=k.data(this.attr_name(true)+"-init");if(k.parent("body").length===0){var l=k.wrap('<div style="display: none;" />').parent(),f=this.settings.rootElement||"body";k.on("closed.fndtn.reveal.wrapped",function(){k.detach().appendTo(l);k.unwrap().unbind("closed.fndtn.reveal.wrapped")});k.detach().appendTo(f)}var h=b(j.animation);if(!h.animate){this.locked=false}if(h.pop){i.top=d(c).scrollTop()-k.data("offset")+"px";var g={top:d(c).scrollTop()+k.data("css-top")+"px",opacity:1};return setTimeout(function(){return k.css(i).animate(g,j.animation_speed,"linear",function(){this.locked=false;k.trigger("opened")}.bind(this)).addClass("open")}.bind(this),j.animation_speed/2)}if(h.fade){i.top=d(c).scrollTop()+k.data("css-top")+"px";var g={opacity:1};return setTimeout(function(){return k.css(i).animate(g,j.animation_speed,"linear",function(){this.locked=false;k.trigger("opened")}.bind(this)).addClass("open")}.bind(this),j.animation_speed/2)}return k.css(i).show().css({opacity:1}).addClass("open").trigger("opened")}var j=this.settings;if(b(j.animation).fade){return k.fadeIn(j.animation_speed/2)}this.locked=false;return k.show()},hide:function(j,h){if(h){var i=j.data(this.attr_name(true)+"-init");var g=b(i.animation);if(!g.animate){this.locked=false}if(g.pop){var f={top:-d(c).scrollTop()-j.data("offset")+"px",opacity:0};return setTimeout(function(){return j.animate(f,i.animation_speed,"linear",function(){this.locked=false;j.css(h).trigger("closed")}.bind(this)).removeClass("open")}.bind(this),i.animation_speed/2)}if(g.fade){var f={opacity:0};return setTimeout(function(){return j.animate(f,i.animation_speed,"linear",function(){this.locked=false;j.css(h).trigger("closed")}.bind(this)).removeClass("open")}.bind(this),i.animation_speed/2)}return j.hide().css(h).removeClass("open").trigger("closed")}var i=this.settings;if(b(i.animation).fade){return j.fadeOut(i.animation_speed/2)}return j.hide()},close_video:function(h){var g=d(".flex-video",h.target),f=d("iframe",g);if(f.length>0){f.attr("data-src",f[0].src);f.attr("src","about:blank");g.hide()}},open_video:function(h){var g=d(".flex-video",h.target),f=g.find("iframe");if(f.length>0){var j=f.attr("data-src");if(typeof j==="string"){f[0].src=f.attr("data-src")}else{var i=f[0].src;f[0].src=e;f[0].src=i}g.show()}},data_attr:function(f){if(this.namespace.length>0){return this.namespace+"-"+f}return f},cache_offset:function(f){var g=f.show().height()+parseInt(f.css("top"),10);f.hide();return g},off:function(){d(this.scope).off(".fndtn.reveal")},reflow:function(){}};function b(h){var g=/fade/i.test(h);var f=/pop/i.test(h);return{animate:g||f,pop:f,fade:g}}}(jQuery,this,this.document));