(function(c,b,a,d){Foundation.libs.reveal={name:"reveal",version:"5.1.1",locked:false,settings:{animation:"fadeAndPop",animation_speed:250,close_on_background_click:true,close_on_esc:true,dismiss_modal_class:"close-reveal-modal",bg_class:"reveal-modal-bg",open:function(){},opened:function(){},close:function(){},closed:function(){},bg:c(".reveal-modal-bg"),css:{open:{opacity:0,visibility:"visible",display:"block"},close:{opacity:1,visibility:"hidden",display:"none"}}},init:function(f,g,e){c.extend(true,this.settings,g,e);this.bindings(g,e)},events:function(g){var e=this,f=e.S;f(this.scope).off(".reveal").on("click.fndtn.reveal","["+this.add_namespace("data-reveal-id")+"]",function(k){k.preventDefault();if(!e.locked){var i=f(this),j=i.data(e.data_attr("reveal-ajax"));e.locked=true;if(typeof j==="undefined"){e.open.call(e,i)}else{var h=j===true?i.attr("href"):j;e.open.call(e,i,{url:h})}}});f(a).on("click.fndtn.reveal",this.close_targets(),function(i){i.preventDefault();if(!e.locked){var h=f("["+e.attr_name()+"].open").data(e.attr_name(true)+"-init"),j=f(i.target)[0]===f("."+h.bg_class)[0];if(j&&!h.close_on_background_click){return}e.locked=true;e.close.call(e,j?f("["+e.attr_name()+"].open"):f(this).closest("["+e.attr_name()+"]"))}});if(f("["+e.attr_name()+"]",this.scope).length>0){f(this.scope).on("open.fndtn.reveal",this.settings.open).on("opened.fndtn.reveal",this.settings.opened).on("opened.fndtn.reveal",this.open_video).on("close.fndtn.reveal",this.settings.close).on("closed.fndtn.reveal",this.settings.closed).on("closed.fndtn.reveal",this.close_video)}else{f(this.scope).on("open.fndtn.reveal","["+e.attr_name()+"]",this.settings.open).on("opened.fndtn.reveal","["+e.attr_name()+"]",this.settings.opened).on("opened.fndtn.reveal","["+e.attr_name()+"]",this.open_video).on("close.fndtn.reveal","["+e.attr_name()+"]",this.settings.close).on("closed.fndtn.reveal","["+e.attr_name()+"]",this.settings.closed).on("closed.fndtn.reveal","["+e.attr_name()+"]",this.close_video)}return true},key_up_on:function(f){var e=this;e.S("body").off("keyup.fndtn.reveal").on("keyup.fndtn.reveal",function(i){var g=e.S("["+e.attr_name()+"].open"),h=g.data(e.attr_name(true)+"-init");if(h&&i.which===27&&h.close_on_esc&&!e.locked){e.close.call(e,g)}});return true},key_up_off:function(e){this.S("body").off("keyup.fndtn.reveal");return true},open:function(i,j){var f=this;if(i){if(typeof i.selector!=="undefined"){var h=f.S("#"+i.data(f.data_attr("reveal-id")))}else{var h=f.S(this.scope);j=i}}else{var h=f.S(this.scope)}var g=h.data(f.attr_name(true)+"-init");if(!h.hasClass("open")){var e=f.S("["+f.attr_name()+"].open");if(typeof h.data("css-top")==="undefined"){h.data("css-top",parseInt(h.css("top"),10)).data("offset",this.cache_offset(h))}this.key_up_on(h);h.trigger("open");if(e.length<1){this.toggle_bg(h)}if(typeof j==="string"){j={url:j}}if(typeof j==="undefined"||!j.url){if(e.length>0){var l=e.data(f.attr_name(true)+"-init");this.hide(e,l.css.close)}this.show(h,g.css.open)}else{var k=typeof j.success!=="undefined"?j.success:null;c.extend(j,{success:function(n,p,m){if(c.isFunction(k)){k(n,p,m)}h.html(n);f.S(h).foundation("section","reflow");if(e.length>0){var o=e.data(f.attr_name(true));f.hide(e,o.css.close)}f.show(h,g.css.open)}});c.ajax(j)}}},close:function(g){var g=g&&g.length?g:this.S(this.scope),f=this.S("["+this.attr_name()+"].open"),e=g.data(this.attr_name(true)+"-init");if(f.length>0){this.locked=true;this.key_up_off(g);g.trigger("close");this.toggle_bg(g);this.hide(f,e.css.close,e)}},close_targets:function(){var e="."+this.settings.dismiss_modal_class;if(this.settings.close_on_background_click){return e+", ."+this.settings.bg_class}return e},toggle_bg:function(f){var e=f.data(this.attr_name(true));if(this.S("."+this.settings.bg_class).length===0){this.settings.bg=c("<div />",{"class":this.settings.bg_class}).appendTo("body")}if(this.settings.bg.filter(":visible").length>0){this.hide(this.settings.bg)}else{this.show(this.settings.bg)}},show:function(i,g){if(g){var h=i.data(this.attr_name(true)+"-init");if(i.parent("body").length===0){var j=i.wrap('<div style="display: none;" />').parent(),e=this.settings.rootElement||"body";i.on("closed.fndtn.reveal.wrapped",function(){i.detach().appendTo(j);i.unwrap().unbind("closed.fndtn.reveal.wrapped")});i.detach().appendTo(e)}if(/pop/i.test(h.animation)){g.top=c(b).scrollTop()-i.data("offset")+"px";var f={top:c(b).scrollTop()+i.data("css-top")+"px",opacity:1};return setTimeout(function(){return i.css(g).animate(f,h.animation_speed,"linear",function(){this.locked=false;i.trigger("opened")}.bind(this)).addClass("open")}.bind(this),h.animation_speed/2)}if(/fade/i.test(h.animation)){var f={opacity:1};return setTimeout(function(){return i.css(g).animate(f,h.animation_speed,"linear",function(){this.locked=false;i.trigger("opened")}.bind(this)).addClass("open")}.bind(this),h.animation_speed/2)}return i.css(g).show().css({opacity:1}).addClass("open").trigger("opened")}var h=this.settings;if(/fade/i.test(h.animation)){return i.fadeIn(h.animation_speed/2)}this.locked=false;return i.show()},hide:function(h,f){if(f){var g=h.data(this.attr_name(true)+"-init");if(/pop/i.test(g.animation)){var e={top:-c(b).scrollTop()-h.data("offset")+"px",opacity:0};return setTimeout(function(){return h.animate(e,g.animation_speed,"linear",function(){this.locked=false;h.css(f).trigger("closed")}.bind(this)).removeClass("open")}.bind(this),g.animation_speed/2)}if(/fade/i.test(g.animation)){var e={opacity:0};return setTimeout(function(){return h.animate(e,g.animation_speed,"linear",function(){this.locked=false;h.css(f).trigger("closed")}.bind(this)).removeClass("open")}.bind(this),g.animation_speed/2)}return h.hide().css(f).removeClass("open").trigger("closed")}var g=this.settings;if(/fade/i.test(g.animation)){return h.fadeOut(g.animation_speed/2)}return h.hide()},close_video:function(h){var g=c(".flex-video",h.target),f=c("iframe",g);if(f.length>0){f.attr("data-src",f[0].src);f.attr("src","about:blank");g.hide()}},open_video:function(h){var g=c(".flex-video",h.target),f=g.find("iframe");if(f.length>0){var j=f.attr("data-src");if(typeof j==="string"){f[0].src=f.attr("data-src")}else{var i=f[0].src;f[0].src=d;f[0].src=i}g.show()}},data_attr:function(e){if(this.namespace.length>0){return this.namespace+"-"+e}return e},cache_offset:function(e){var f=e.show().height()+parseInt(e.css("top"),10);e.hide();return f},off:function(){c(this.scope).off(".fndtn.reveal")},reflow:function(){}}}(jQuery,this,this.document));