!function(a){"use strict";function q(a){return a=String(a),a.charAt(0).toUpperCase()+a.slice(1)}function r(a,b){var c=-1,d=a.length;if(d==d>>>0)for(;++c<d;)b(a[c],c,a);else t(a,b)}function s(a){return a=z(a),/^(?:webOS|i(?:OS|P))/.test(a)?a:q(a)}function t(a,b){for(var c in a)v(a,c)&&b(a[c],c,a)}function u(a){return null==a?q(a):f.call(a).slice(8,-1)}function v(){return v=function(a,b){var c=null!=a&&(a.constructor||Object).prototype;return!!c&&b in Object(a)&&!(b in c&&a[b]===c[b])},"Function"==u(k)?v=function(a,b){return null!=a&&k.call(a,b)}:{}.__proto__==Object.prototype&&(v=function(a,b){var c=!1;return null!=a&&(a=Object(a),a.__proto__=[a.__proto__,a.__proto__=null,c=b in a][0]),c}),v.apply(this,arguments)}function w(a,b){var c=null!=a?typeof a[b]:"number";return!/^(?:boolean|number|string|undefined)$/.test(c)&&("object"==c?!!a[b]:!0)}function x(a){return String(a).replace(/([ -])(?!$)/g,"$1?")}function y(a,b){var c=null;return r(a,function(d,e){c=b(c,d,e,a)}),c}function z(a){return String(a).replace(/^ +| +$/g,"")}function A(c){function I(a){return y(a,function(a,b){return a||RegExp("\\b"+(b.pattern||x(b))+"\\b","i").exec(c)&&(b.label||b)})}function J(a){return y(a,function(a,b,d){return a||(b[F]||b[/^[a-z]+(?: +[a-z]+\b)*/i.exec(F)]||RegExp("\\b"+(d.pattern||x(d))+"(?:\\b|\\w*\\d)","i").exec(c))&&(d.label||d)})}function K(a){return y(a,function(a,b){return a||RegExp("\\b"+(b.pattern||x(b))+"\\b","i").exec(c)&&(b.label||b)})}function L(a){return y(a,function(a,b){var d=b.pattern||x(b);return!a&&(a=RegExp("\\b"+d+"(?:/[\\d.]+|[ \\w.]*)","i").exec(c))&&(k={6.2:"8",6.1:"Server 2008 R2 / 7","6.0":"Server 2008 / Vista",5.2:"Server 2003 / XP 64-bit",5.1:"XP",5.01:"2000 SP1","5.0":"2000","4.0":"NT","4.90":"ME"},/^Win/i.test(a)&&(k=k[/[\d.]+$/.exec(a)])&&(a="Windows "+k),a=s(String(a).replace(RegExp(d,"i"),b.label||b).replace(/ ce$/i," CE").replace(/hpw/i,"web").replace(/Macintosh/,"Mac OS").replace(/_PowerPC/i," OS").replace(/(OS X) [^ \d]+/i,"$1").replace(/\/(\d)/," $1").replace(/_/g,".").replace(/(?: BePC|[ .]*fc[ \d.]+)$/i,"").replace(/x86\.64/gi,"x86_64").split(" on ")[0])),a})}function M(a){return y(a,function(a,b){var d=b.pattern||x(b);return!a&&(a=RegExp("\\b"+d+" *\\d+[.\\w_]*","i").exec(c)||RegExp("\\b"+d+"(?:; *(?:[a-z]+[_-])?[a-z]+\\d+|[^ ();-]*)","i").exec(c))&&((a=String(b.label||a).split("/"))[1]&&!/[\d.]+/.test(a[0])&&(a[0]+=" "+a[1]),b=b.label||b,a=s(a[0].replace(RegExp(d,"i"),b).replace(RegExp("; *(?:"+b+"[_-])?","i")," ").replace(RegExp("("+b+")(\\w)","i"),"$1 $2"))),a})}function N(a){return y(a,function(a,b){return a||(RegExp(b+"(?:-[\\d.]+/|(?: for [\\w-]+)?[ /-])([\\d.]+[^ ();/_-]*)","i").exec(c)||0)[1]||null})}function O(){return this.description||""}c||(c=p);var k,q=c,r=[],v=null,B=c==p,C=B&&m&&"function"==typeof m.version&&m.version(),D=I([{label:"WebKit",pattern:"AppleWebKit"},"iCab","Presto","NetFront","Tasman","Trident","KHTML","Gecko"]),E=K(["Adobe AIR","Arora","Avant Browser","Camino","Epiphany","Fennec","Flock","Galeon","GreenBrowser","iCab","Iceweasel","Iron","K-Meleon","Konqueror","Lunascape","Maxthon","Midori","Nook Browser","PhantomJS","Raven","Rekonq","RockMelt","SeaMonkey",{label:"Silk",pattern:"(?:Cloud9|Silk-Accelerated)"},"Sleipnir","SlimBrowser","Sunrise","Swiftfox","WebPositive","Opera Mini","Opera","Chrome",{label:"Chrome Mobile",pattern:"(?:CriOS|CrMo)"},{label:"Firefox",pattern:"(?:Firefox|Minefield)"},{label:"IE",pattern:"MSIE"},"Safari"]),F=M(["BlackBerry",{label:"Galaxy S",pattern:"GT-I9000"},{label:"Galaxy S2",pattern:"GT-I9100"},"Google TV","iPad","iPod","iPhone","Kindle",{label:"Kindle Fire",pattern:"(?:Cloud9|Silk-Accelerated)"},"Nook","PlayBook","PlayStation Vita","TouchPad","Transformer","Xoom"]),G=J({Apple:{iPad:1,iPhone:1,iPod:1},Amazon:{Kindle:1,"Kindle Fire":1},Asus:{Transformer:1},"Barnes & Noble":{Nook:1},BlackBerry:{PlayBook:1},Google:{"Google TV":1},HP:{TouchPad:1},LG:{},Motorola:{Xoom:1},Nokia:{},Samsung:{"Galaxy S":1,"Galaxy S2":1},Sony:{"PlayStation Vita":1}}),H=L(["Android","CentOS","Debian","Fedora","FreeBSD","Gentoo","Haiku","Kubuntu","Linux Mint","Red Hat","SuSE","Ubuntu","Xubuntu","Cygwin","Symbian OS","hpwOS","webOS ","webOS","Tablet OS","Linux","Mac OS X","Macintosh","Mac","Windows 98;","Windows "]);if(D&&(D=[D]),G&&!F&&(F=M([G])),(k=/Google TV/.exec(F))&&(F=k[0]),/\bSimulator\b/i.test(c)&&(F=(F?F+" ":"")+"Simulator"),/^iP/.test(F)?(E||(E="Safari"),H="iOS"+((k=/ OS ([\d_]+)/i.exec(c))?" "+k[1].replace(/_/g,"."):"")):"Konqueror"!=E||/buntu/i.test(H)?G&&"Google"!=G&&/Chrome|Vita/.test(E+";"+F)?(E="Android Browser",H=/Android/.test(H)?H:"Android"):(!E||(k=!/\bMinefield\b/i.test(c)&&/Firefox|Safari/.exec(E)))&&(E&&!F&&/[\/,]|^[^(]+?\)/.test(c.slice(c.indexOf(k+"/")+8))&&(E=null),(k=F||G||H)&&(F||G||/Android|Symbian OS|Tablet OS|webOS/.test(H))&&(E=/[a-z]+(?: Hat)?/i.exec(/Android/.test(H)?H:k)+" Browser")):H="Kubuntu",C||(C=N(["(?:Cloud9|CriOS|CrMo|Opera ?Mini|Raven|Silk(?!/[\\d.]+$))","Version",x(E),"(?:Firefox|Minefield|NetFront)"])),"iCab"==D&&parseFloat(C)>3?D=["WebKit"]:(k=/Opera/.test(E)&&"Presto"||/\b(?:Midori|Nook|Safari)\b/i.test(c)&&"WebKit"||!D&&/\bMSIE\b/i.test(c)&&(/^Mac/.test(H)?"Tasman":"Trident"))&&(D=[k]),B){if(w(a,"global"))if(g&&(k=g.lang.System,q=k.getProperty("os.arch"),H=H||k.getProperty("os.name")+" "+k.getProperty("os.version")),"object"==typeof exports&&exports)if(o==b&&"object"==typeof system&&(k=[system])[0]){H||(H=k[0].os||null);try{k[1]=require("ringo/engine").version,C=k[1].join("."),E="RingoJS"}catch(P){k[0].global==d&&(E="Narwhal")}}else"object"==typeof process&&(k=process)&&(E="Node.js",q=k.arch,H=k.platform,C=/[\d.]+/.exec(k.version)[0]);else"Environment"==u(a.environment)&&(E="Rhino");else"ScriptBridgingProxyObject"==u(k=a.runtime)?(E="Adobe AIR",H=k.flash.system.Capabilities.os):"RuntimeObject"==u(k=a.phantom)?(E="PhantomJS",C=(k=k.version||null)&&k.major+"."+k.minor+"."+k.patch):"number"==typeof j.documentMode&&(k=/\bTrident\/(\d+)/i.exec(c))&&(C=[C,j.documentMode],(k=+k[1]+4)!=C[1]&&(r.push("IE "+C[1]+" mode"),D[1]="",C[1]=k),C="IE"==E?String(C[1].toFixed(1)):C[0]);H=H&&s(H)}return C&&(k=/(?:[ab]|dp|pre|[ab]\d+pre)(?:\d+\+?)?$/i.exec(C)||/(?:alpha|beta)(?: ?\d)?/i.exec(c+";"+(B&&l.appMinorVersion))||/\bMinefield\b/i.test(c)&&"a")&&(v=/b/i.test(k)?"beta":"alpha",C=C.replace(RegExp(k+"\\+?$"),"")+("beta"==v?i:h)+(/\d+\+?/.exec(k)||"")),"Fennec"==E?E="Firefox Mobile":"Maxthon"==E&&C?C=C.replace(/\.[\d.]+/,".x"):"Silk"==E?(/Mobi/i.test(c)||(H="Android",r.unshift("desktop mode")),/Accelerated *= *true/i.test(c)&&r.unshift("accelerated")):"IE"==E&&(k=(/; *(?:XBLWP|ZuneWP)(\d+)/i.exec(c)||0)[1])?(E+=" Mobile",H="Windows Phone OS "+k+".x",r.unshift("desktop mode")):"IE"!=E&&(!E||F||/Browser|Mobi/.test(E))||"Windows CE"!=H&&!/Mobi/i.test(c)?"IE"==E&&B&&"object"==typeof external&&!external?r.unshift("platform preview"):/BlackBerry/.test(F)&&(k=(RegExp(F.replace(/ +/g," *")+"/([.\\d]+)","i").exec(c)||0)[1]||C)?(H="Device Software "+k,C=null):this!=t&&(B&&m||/Opera/.test(E)&&/\b(?:MSIE|Firefox)\b/i.test(c)||"Firefox"==E&&/OS X (?:\d+\.){2,}/.test(H)||"IE"==E&&(H&&!/^Win/.test(H)&&C>5.5||/Windows XP/.test(H)&&C>8||8==C&&!/Trident/.test(c)))&&!e.test(k=A.call(t,c.replace(e,"")+";"))&&k.name&&(k="ing as "+k.name+((k=k.version)?" "+k:""),e.test(E)?(/IE/.test(k)&&"Mac OS"==H&&(H=null),k="identify"+k):(k="mask"+k,E=n?s(n.replace(/([a-z])([A-Z])/g,"$1 $2")):"Opera",/IE/.test(k)&&(H=null),B||(C=null)),D=["Presto"],r.push(k)):E+=" Mobile",(k=(/\bAppleWebKit\/([\d.]+\+?)/i.exec(c)||0)[1])&&(k=[parseFloat(k.replace(/\.(\d)$/,".0$1")),k],"Safari"==E&&"+"==k[1].slice(-1)?(E="WebKit Nightly",v="alpha",C=k[1].slice(0,-1)):(C==k[1]||C==(/\bSafari\/([\d.]+\+?)/i.exec(c)||0)[1])&&(C=null),k=[k[0],(/\bChrome\/([\d.]+)/i.exec(c)||0)[1]],!B||/internal|\n/i.test(f.toString())&&!k[1]?(D[1]="like Safari",k=k[0],k=400>k?1:500>k?2:526>k?3:533>k?4:534>k?"4+":535>k?5:"5"):(D[1]="like Chrome",k=k[1]||(k=k[0],530>k?1:532>k?2:532.05>k?3:533>k?4:534.03>k?5:534.07>k?6:534.1>k?7:534.13>k?8:534.16>k?9:534.24>k?10:534.3>k?11:535.01>k?12:535.02>k?"13+":535.07>k?15:535.11>k?16:535.19>k?17:536.05>k?18:536.1>k?19:537.01>k?20:"21")),D[1]+=" "+(k+="number"==typeof k?".x":/[.+]/.test(k)?"":"+"),"Safari"==E&&(!C||parseInt(C)>45)&&(C=k)),"Opera"==E&&(k=/(?:zbov|zvav)$/.exec(H))?(E+=" ",r.unshift("desktop mode"),"zvav"==k?(E+="Mini",C=null):E+="Mobile"):"Safari"==E&&/Chrome/.exec(D[1])&&(r.unshift("desktop mode"),E="Chrome Mobile",C=null,/Mac OS X/.test(H)?(G="Apple",H="iOS 4.3+"):H=null),C&&0==C.indexOf(k=/[\d.]+$/.exec(H))&&c.indexOf("/"+k+"-")>-1&&(H=z(H.replace(k,""))),D&&!/Avant|Nook/.test(E)&&(/Browser|Lunascape|Maxthon/.test(E)||/^(?:Adobe|Arora|Midori|Phantom|Rekonq|Rock|Sleipnir|Web)/.test(E)&&D[1])&&(k=D[D.length-1])&&r.push(k),r.length&&(r=["("+r.join("; ")+")"]),G&&F&&F.indexOf(G)<0&&r.push("on "+G),F&&r.push((/^on /.test(r[r.length-1])?"":"on ")+F),H&&(k=/ ([\d.+]+)$/.exec(H),H={architecture:32,family:k?H.replace(k[0],""):H,version:k?k[1]:null,toString:function(){var a=this.version;return this.family+(a?" "+a:"")+(64==this.architecture?" 64-bit":"")}}),(k=/ (?:AMD|IA|Win|WOW|x86_|x)64\b/i.exec(q))&&!/\bi686\b/i.test(q)&&(H&&(H.architecture=64,H.family=H.family.replace(k,"")),E&&(/WOW64/i.test(c)||B&&/\w(?:86|32)$/.test(l.cpuClass||l.platform))&&r.unshift("32-bit")),c||(c=null),{version:E&&C&&(r.unshift(C),C),name:E&&(r.unshift(E),E),os:H?(E&&!(H==String(H).split(" ")[0]&&(H==E.split(" ")[0]||F))&&r.push(F?"("+H+")":"on "+H),H):{architecture:null,family:null,version:null,toString:function(){return"null"}},description:r.length?r.join(" "):c,layout:D&&D[0],manufacturer:G,prerelease:v,product:F,ua:c,parse:A,toString:O}}var b=a,c="object"==typeof exports&&exports,d="object"==typeof global&&global&&(global==global.global?a=global:global),e=/Opera/,f={}.toString,g=/Java/.test(u(a.java))&&a.java,h=g?"a":"\u03b1",i=g?"b":"\u03b2",j=a.document||{},k={}.hasOwnProperty,l=a.navigator||{},m=a.operamini||a.opera,n=e.test(n=u(m))?n:m=null,o=this,p=l.userAgent||"";"function"==typeof define&&"object"==typeof define.amd&&define.amd?define(function(){return A()}):c?t(A(),function(a,b){c[b]=a}):a.platform=A()}(this);
