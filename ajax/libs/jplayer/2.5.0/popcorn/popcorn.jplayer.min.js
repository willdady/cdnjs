!function(a){var b="//ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js",c="//www.jplayer.org/2.5.0/js/jquery.jplayer.min.js",d="//www.jplayer.org/2.5.0/js/Jplayer.swf",e="html,flash",f=!1,g=!1,h=!1,i={mp3:{codec:'audio/mpeg; codecs="mp3"',flashCanPlay:!0,media:"audio"},m4a:{codec:'audio/mp4; codecs="mp4a.40.2"',flashCanPlay:!0,media:"audio"},m3u8a:{codec:'application/vnd.apple.mpegurl; codecs="mp4a.40.2"',flashCanPlay:!1,media:"audio"},m3ua:{codec:"audio/mpegurl",flashCanPlay:!1,media:"audio"},oga:{codec:'audio/ogg; codecs="vorbis, opus"',flashCanPlay:!1,media:"audio"},flac:{codec:"audio/x-flac",flashCanPlay:!1,media:"audio"},wav:{codec:'audio/wav; codecs="1"',flashCanPlay:!1,media:"audio"},webma:{codec:'audio/webm; codecs="vorbis"',flashCanPlay:!1,media:"audio"},fla:{codec:"audio/x-flv",flashCanPlay:!0,media:"audio"},rtmpa:{codec:'audio/rtmp; codecs="rtmp"',flashCanPlay:!0,media:"audio"},m4v:{codec:'video/mp4; codecs="avc1.42E01E, mp4a.40.2"',flashCanPlay:!0,media:"video"},m3u8v:{codec:'application/vnd.apple.mpegurl; codecs="avc1.42E01E, mp4a.40.2"',flashCanPlay:!1,media:"video"},m3uv:{codec:"audio/mpegurl",flashCanPlay:!1,media:"video"},ogv:{codec:'video/ogg; codecs="theora, vorbis"',flashCanPlay:!1,media:"video"},webmv:{codec:'video/webm; codecs="vorbis, vp8"',flashCanPlay:!1,media:"video"},flv:{codec:"video/x-flv",flashCanPlay:!0,media:"video"},rtmpv:{codec:'video/rtmp; codecs="rtmp"',flashCanPlay:!0,media:"video"}},j=function(a){return a&&"object"==typeof a&&a.hasOwnProperty?!0:!1},k=function(a){var b=!1;return/\.mp3$/i.test(a)?b="mp3":/\.mp4$/i.test(a)||/\.m4v$/i.test(a)?b="m4v":/\.m4a$/i.test(a)?b="m4a":/\.ogg$/i.test(a)||/\.oga$/i.test(a)?b="oga":/\.ogv$/i.test(a)?b="ogv":/\.webm$/i.test(a)&&(b="webmv"),b},l=function(a){var b="",c="";if(j(a))for(var d in a)a.hasOwnProperty(d)&&(b+=c+d,c=",");return f&&console.log('getSupplied(): Generated: supplied = "'+b+'"'),b};a.player("jplayer",{_canPlayType:function(a,b){var g,c=a.toLowerCase(),d={media:{},options:{}},f=!1;if("video"!==c&&"audio"!==c&&("string"==typeof b?/^http.*/i.test(b)&&(g=k(b),g&&(d.media[g]=b,d.options.solution=e,d.options.supplied=g)):d=b,j(d)&&j(d.media))){j(d.options)||(d.options={}),d.options.solution||(d.options.solution=e),d.options.supplied||(d.options.supplied=l(d.media));for(var h=d.options.solution.toLowerCase().split(","),m=d.options.supplied.toLowerCase().split(","),n=0;n<h.length;n++)for(var r,o=h[n].replace(/^\s+|\s+$/g,""),p="html"===o,q="flash"===o,s=0;s<m.length;s++)if(g=m[s].replace(/^\s+|\s+$/g,""),i[g]){!r&&p&&(r=document.createElement(i[g].media));var t=!!(r&&r.canPlayType&&r.canPlayType(i[g].codec)),u=t&&p,v=i[g].flashCanPlay&&q;(u||v)&&(f={html:u,type:g},n=h.length,s=m.length)}}return f},_setup:function(){var m,n,i=this,o="unknown",p={},q={},r=!1,s=0,t=null,u=!1,v=null,w=function(){r?(f&&console.log("Dispatched event : durationchange : "+s),i.dispatchEvent("durationchange")):(f&&console.log("DELAYED EVENT (!ready) : durationchange : "+s),clearTimeout(t),t=setTimeout(w,250))},x=function(){var a=function(a){a.jPlayer.status.duration!==s&&(s=a.jPlayer.status.duration,w())},b=function(a){u||100!==a.jPlayer.status.seekPercent||(u=!0,setTimeout(function(){f&&console.log("Trigger : canplaythrough"),n._trigger($.jPlayer.event.canplaythrough)},0))};m.bind($.jPlayer.event.loadstart,function(){setTimeout(function(){f&&console.log("Trigger : loadeddata"),n._trigger($.jPlayer.event.loadeddata)},0)}).bind($.jPlayer.event.progress,function(c){a(c),b(c)}).bind($.jPlayer.event.timeupdate,function(c){a(c),b(c)}).bind($.jPlayer.event.play,function(){setTimeout(function(){f&&console.log("Trigger : playing"),n._trigger($.jPlayer.event.playing)},0)}),f&&console.log("Created CUSTOM event handlers for FLASH")},y=function(){!function(b){m=b("#"+i.id),"string"==typeof i.src?(o=k(i.src),p[o]=i.src,q.supplied=o,q.solution=e):j(i.src)&&(p=j(i.src.media)?i.src.media:{},q=j(i.src.options)?i.src.options:{},q.solution=q.solution||e,q.supplied=q.supplied||l(i.src.media)),q.swfPath=q.swfPath||d,m.bind(b.jPlayer.event.ready,function(a){a.jPlayer.flash.used&&x(),b(this).jPlayer("setMedia",p).jPlayer("load")});var c=b.jPlayer.reservedEvent+" loadeddata durationchange",g=c.split(/\s+/g),h=function(a){m.bind(b.jPlayer.event[a],function(b){f&&console.log("Dispatched event: "+a+(b&&b.jPlayer?" ("+b.jPlayer.status.currentTime+"s)":"")),i.dispatchEvent(a)}),f&&console.log("Created event handler for: "+a)};for(var t in b.jPlayer.event)if(b.jPlayer.event.hasOwnProperty(t)){var u=!0;for(var y in g)if(g.hasOwnProperty(y)&&g[y]===t){u=!1;break}u?h(t):f&&console.log("Skipped auto event handler creation for: "+t)}m.bind(b.jPlayer.event.loadeddata,function(a){f&&console.log("Dispatched event: loadeddata"+(a&&a.jPlayer?" ("+a.jPlayer.status.currentTime+"s)":"")),i.dispatchEvent("loadeddata"),r=!0}),f&&console.log("Created CUSTOM event handler for: loadeddata"),m.bind(b.jPlayer.event.durationchange,function(a){s=a.jPlayer.status.duration,w()}),f&&console.log("Created CUSTOM event handler for: durationchange"),m.bind(b.jPlayer.event.error,function(a){v=a.jPlayer.error,v.code=v.type===b.jPlayer.error.URL?4:0,f&&console.log("Dispatched event: error"),f&&console.dir(v),i.dispatchEvent("error")}),f&&console.log("Created CUSTOM event handler for: error"),a.player.defineProperty(i,"error",{set:function(){return v},get:function(){return v}}),a.player.defineProperty(i,"currentTime",{set:function(a){return n.status.paused?m.jPlayer("pause",a):m.jPlayer("play",a),a},get:function(){return n.status.currentTime}}),a.player.defineProperty(i,"duration",{set:function(){return r?s:0/0},get:function(){return r?s:0/0}}),a.player.defineProperty(i,"muted",{set:function(a){return m.jPlayer("mute",a),n.options.muted},get:function(){return n.options.muted}}),a.player.defineProperty(i,"volume",{set:function(a){return m.jPlayer("volume",a),n.options.volume},get:function(){return n.options.volume}}),a.player.defineProperty(i,"paused",{set:function(){return n.status.paused},get:function(){return n.status.paused}}),i.play=function(){m.jPlayer("play")},i.pause=function(){m.jPlayer("pause")},m.jPlayer(q),n=m.data("jPlayer")}(jQuery)},z=function(){jQuery.jPlayer?y():h?setTimeout(z,250):(h=!0,a.getScript(c,function(){h=!1,y()}))},A=function(){window.jQuery?z():g?setTimeout(A,250):(g=!0,a.getScript(b,function(){g=!1,z()}))};A()},_teardown:function(){jQuery("#"+this.id).jPlayer("destroy")}})}(Popcorn);